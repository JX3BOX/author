(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d45a9b14"],{"0ccb":function(t,e,n){var a=n("e330"),r=n("50c4"),o=n("577e"),i=n("1148"),c=n("1d80"),s=a(i),u=a("".slice),d=Math.ceil,f=function(t){return function(e,n,a){var i,f,l=o(c(e)),p=r(n),g=l.length,m=void 0===a?" ":o(a);return p<=g||""==m?l:(i=p-g,f=s(m,d(i/m.length)),f.length>i&&(f=u(f,0,i)),t?l+f:f+l)}};t.exports={start:f(!1),end:f(!0)}},"25f0":function(t,e,n){"use strict";var a=n("5e77").PROPER,r=n("6eeb"),o=n("825a"),i=n("577e"),c=n("d039"),s=n("90d8"),u="toString",d=RegExp.prototype,f=d[u],l=c((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),p=a&&f.name!=u;(l||p)&&r(RegExp.prototype,u,(function(){var t=o(this),e=i(t.source),n=i(s(t));return"/"+e+"/"+n}),{unsafe:!0})},"4d90":function(t,e,n){"use strict";var a=n("23e7"),r=n("0ccb").start,o=n("9a0c");a({target:"String",proto:!0,forced:o},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"6ba9":function(t){t.exports=JSON.parse('{"101":"天策","102":"万花","103":"纯阳","104":"七秀","105":"少林","106":"藏剑","107":"丐帮","108":"明教","109":"五毒","110":"唐门","118":"苍云","119":"长歌","120":"霸刀","121":"蓬莱","122":"凌雪","123":"衍天","124":"药宗","126":"刀宗","129":"万灵"}')},7535:function(t,e,n){},"90d8":function(t,e,n){var a=n("c65b"),r=n("1a2d"),o=n("3a9b"),i=n("ad6d"),c=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in c||r(t,"flags")||!o(c,t)?e:a(i,t)}},"9a0c":function(t,e,n){var a=n("342f");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(a)},"9e30":function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="9e30"},c29f:function(t,e,n){"use strict";n("7535")},d1c8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppLayout",[n("div",{staticClass:"m-main"},[n("el-image",{staticClass:"u-img",attrs:{fit:"contain",src:t.treasureImg,"preview-src-list":[t.treasureImg]}}),n("button",{staticClass:"u-btn m-hide el-button el-button--primary",on:{click:t.print}},[t._v("打印证书")]),n("canvas",{ref:"canvas",attrs:{id:"canvas"}})],1)])},r=[],o=(n("d3b7"),n("ac1f"),n("1276"),n("4d90"),n("25f0"),n("5319"),n("65c2"),n("dead")),i=n("6ba9"),c=n("c402"),s={name:"Author",components:{AppLayout:o["a"]},props:[],data:function(){return{drawCtx:{},treasureImg:"",treasureInfo:!1,contentData:{},tianTuanCertificateCode:i}},computed:{id:function(){return this.$route.params.id}},watch:{id:{immediate:!0,handler:function(t){t?this.load():this.$router.push({name:"index"})}}},methods:{load:function(){var t=this;this.id&&Object(c["a"])(this.id).then((function(e){t.contentData=e.data.data,t.draw()}))},draw:function(){var t=this,e=document.getElementById("canvas"),a=e.getContext("2d");this.drawCtx=a,this.$refs.canvas.width=1520,this.$refs.canvas.height=1060;var r=new Image;r.setAttribute("crossOrigin","anonymous"),r.src=n("edaf"),r.onload=function(){t.drawImg(r,0,0,1520,1060),t.drawText(a,{type:"text",content:t.contentData.team_certificate.team_name,style:{textAlign:"center",fontSize:36,left:712,top:479,color:"#756538"}}),t.drawText(a,{type:"text",content:t.tianTuanCertificateCode[t.contentData.team_certificate.sort_no],style:{textAlign:"center",fontSize:36,left:981,top:545,color:"#756538"}}),t.drawText(a,{type:"text",content:t.contentData.team_certificate.teammate,key:"team",style:{textAlign:"left",fontSize:17,left:262,top:640,color:"#756538",width:996,height:27}}),t.drawText(a,{type:"text",content:"剑网3魔盒门派天团赛事组",style:{textAlign:"right",fontSize:28,left:1257,top:810,color:"#000000"}}),t.drawText(a,{type:"text",content:t.formatTimeString("yyyy年MM月dd日",t.contentData.team_certificate.time),style:{textAlign:"right",fontSize:28,left:1257,top:850,color:"#000000"}}),t.canvasExport()}},loadDrawImage:function(t){var e=new Image;return e.setAttribute("crossOrigin","anonymous"),e.src=n("9e30")(t),new Promise((function(t,n){e.onload=function(){t(e)}}))},drawImg:function(t,e,n,a,r){this.drawCtx.drawImage(t,e,n,a,r)},drawText:function(t,e){var n=e.style;t.font="".concat(n.fontSize,"px Arial"),t.textAlign=n.textAlign,t.fillStyle=n.color,"team"!=e.key?t.fillText(e.content,n.left,n.top):this.drawWrappedText(t,e.content,n)},drawWrappedText:function(t,e,n){for(var a=e.split(";"),r="",o=0;o<a.length;o++){var i=a[o].split(",")[0],c=r+i,s=t.measureText(c),u=s.width;u>n.width&&o>0?(t.fillText(r,n.left,n.top),r=i+="，",n.top+=n.height):(c+="，",r=c)}t.fillText(r,n.left,n.top)},canvasExport:function(){var t=this;clearTimeout(this.exportImgTime);var e=document.getElementById("canvas");this.exportImgTime=setTimeout((function(){t.treasureImg=e.toDataURL("image/png")}),100)},formatTimeString:function(t,e){var n=new Date(e),a=n.getFullYear(),r=(n.getMonth()+1).toString().padStart(2,"0"),o=n.getDate().toString().padStart(2,"0"),i=n.getHours().toString().padStart(2,"0"),c=n.getMinutes().toString().padStart(2,"0"),s=n.getSeconds().toString().padStart(2,"0");return t=t.replace(/yyyy/,a).replace(/MM/,r).replace(/dd/,o).replace(/hh/,i).replace(/mm/,c).replace(/ss/,s),t},print:function(){window.print()}}},u=s,d=(n("c29f"),n("2877")),f=Object(d["a"])(u,a,r,!1,null,"74b50192",null);e["default"]=f.exports},edaf:function(t,e,n){t.exports=n.p+"img/bg.75886ea8.png"}}]);
//# sourceMappingURL=chunk-d45a9b14.e144e778.js.map